<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- Modèle d'e-mail pour l'invitation à une réunion -->
        <record id="mail_template_meeting_invitation" model="mail.template">
            <field name="name">Réunion : Invitation</field>
            <!-- CORRECTION CI-DESSOUS -->
            <field name="model_id" ref="internship_management.model_internship_meeting"/>
            <field name="subject">Invitation : {{ object.name }} le {{ object.date.strftime('%d/%m/%Y à %H:%M') }}
            </field>
            <field name="email_from">"{{ object.organizer_id.company_id.name }}" &lt;{{
                object.organizer_id.email_formatted or user.email_formatted }}&gt;
            </field>
            <field name="partner_to">{{ ','.join(map(str, object.partner_ids.ids)) }}</field>
            <field name="body_html" type="html">
                <div style="font-family: 'Lucica Grande', Ubuntu, Arial, Verdana, sans-serif; font-size: 12px; color: rgb(34, 34, 34); background-color: #FFF; ">
                    <p>Bonjour,</p>
                    <p>Vous êtes invité(e) à la réunion suivante :</p>
                    <h2 style="font-size: 16px; font-weight: bold;">{{ object.name }}</h2>
                    <ul>
                        <li>
                            <strong>Date :</strong>
                            {{ object.date.strftime('%A %d %B %Y à %H:%M') }}
                        </li>
                        <li>
                            <strong>Durée :</strong>
                            {{ '%.2f' % object.duration }} heures
                        </li>
                        <li>
                            <strong>Organisateur :</strong>
                            {{ object.organizer_id.name }}
                        </li>
                        <li t-if="object.location">
                            <strong>Lieu :</strong>
                            {{ object.location }}
                        </li>
                        <li t-if="object.meeting_url">
                            <strong>Lien en ligne :</strong>
                            <a t-att-href="object.meeting_url">{{ object.meeting_url }}</a>
                        </li>
                    </ul>
                    <div t-if="object.agenda">
                        <hr/>
                        <h4>Ordre du jour :</h4>
                        {{ object.agenda }}
                    </div>
                    <br/>
                    <p>Merci de confirmer votre présence.</p>
                    <p>Cordialement,</p>
                </div>
            </field>
            <field name="auto_delete" eval="True"/>
        </record>

        <!-- Modèle d'e-mail pour l'annulation d'une réunion -->
        <record id="mail_template_meeting_cancellation" model="mail.template">
            <field name="name">Réunion : Annulation</field>
            <!-- CORRECTION CI-DESSOUS -->
            <field name="model_id" ref="internship_management.model_internship_meeting"/>
            <field name="subject">ANNULATION : {{ object.name }}</field>
            <field name="email_from">"{{ object.organizer_id.company_id.name }}" &lt;{{
                object.organizer_id.email_formatted or user.email_formatted }}&gt;
            </field>
            <field name="partner_to">{{ ','.join(map(str, object.partner_ids.ids)) }}</field>
            <field name="body_html" type="html">
                <div style="font-family: 'Lucica Grande', Ubuntu, Arial, Verdana, sans-serif; font-size: 12px; color: rgb(34, 34, 34); background-color: #FFF; ">
                    <p>Bonjour,</p>
                    <p>Veuillez noter que la réunion suivante a été <strong>annulée</strong> :
                    </p>
                    <h2 style="font-size: 16px; font-weight: bold; color: #DC3545;">{{ object.name }}</h2>
                    <ul>
                        <li>
                            <strong>Date initialement prévue :</strong>
                            {{ object.date.strftime('%A %d %B %Y à %H:%M') }}
                        </li>
                    </ul>
                    <br/>
                    <p>Nous vous tiendrons informés si elle est reprogrammée.</p>
                    <p>Cordialement,</p>
                    <p>
                        <em>-- {{ object.organizer_id.name }}</em>
                    </p>
                </div>
            </field>
            <field name="auto_delete" eval="True"/>
        </record>

    </data>
</odoo>