<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- ================================= -->
        <!-- USER PROFILE MANAGEMENT VIEWS -->
        <!-- ================================= -->

        <!-- User Profiles Tree View -->
        <record id="view_internship_user_profile_tree" model="ir.ui.view">
            <field name="name">internship.user.profile.tree</field>
            <field name="model">internship.user.profile</field>
            <field name="arch" type="xml">
                <tree string="User Profiles" decoration-muted="not is_active">
                    <field name="user_id"/>
                    <field name="profile_type" widget="badge"/>
                    <field name="company_id"/>
                    <field name="department"/>
                    <field name="position"/>
                    <field name="education_level"/>
                    <field name="experience_years"/>
                    <field name="last_login"/>
                    <field name="login_count"/>
                    <field name="is_active"/>
                </tree>
            </field>
        </record>

        <!-- User Profiles Form View -->
        <record id="view_internship_user_profile_form" model="ir.ui.view">
            <field name="name">internship.user.profile.form</field>
            <field name="model">internship.user.profile</field>
            <field name="arch" type="xml">
                <form string="User Profile">
                    <header>
                        <button name="action_update_last_login" string="Update Login Stats"
                                type="object" class="btn-secondary"/>
                        <field name="is_active" widget="boolean_toggle"/>
                    </header>
                    <sheet>
                        <field name="avatar" widget="image" class="oe_avatar"
                               options="{'size': [90, 90]}"/>
                        <div class="oe_title">
                            <h1><field name="user_id" options="{'no_create': True}"/></h1>
                            <h3><field name="profile_type" widget="radio" options="{'horizontal': True}"/></h3>
                        </div>

                        <group>
                            <group name="contact" string="Contact Information">
                                <field name="phone_mobile"/>
                                <field name="phone_work"/>
                                <field name="city"/>
                                <field name="country_id"/>
                            </group>
                            <group name="stats" string="Usage Statistics">
                                <field name="last_login" readonly="1"/>
                                <field name="login_count" readonly="1"/>
                            </group>
                        </group>

                        <notebook>
                            <page name="professional" string="Professional Information">
                                <group>
                                    <group>
                                        <field name="company_id"/>
                                        <field name="department"/>
                                        <field name="position"/>
                                        <field name="experience_years"/>
                                    </group>
                                </group>
                            </page>

                            <page name="academic" string="Academic Background">
                                <group>
                                    <group>
                                        <field name="education_level"/>
                                        <field name="school"/>
                                        <field name="graduation_year"/>
                                    </group>
                                </group>
                            </page>

                            <page name="skills_languages" string="Skills and Languages">
                                <group string="Technical and Soft Skills">
                                    <field name="skills" widget="many2many_tags"
                                           options="{'color_field': 'category', 'no_create': True}"/>
                                </group>
                                <group string="Language Proficiency">
                                    <field name="languages" widget="many2many_tags"
                                           options="{'no_create': True}"/>
                                </group>
                            </page>

                            <page name="bio" string="Biography">
                                <field name="bio" nolabel="1"
                                       placeholder="Write a brief professional biography including background, interests, and career objectives..."/>
                            </page>

                            <page name="address" string="Address Details">
                                <field name="address" nolabel="1"
                                       placeholder="Complete address including street, city, postal code, and any relevant location details..."/>
                            </page>
                        </notebook>
                    </sheet>

                    <div class="oe_chatter">
                        <field name="message_follower_ids"/>
                        <field name="activity_ids"/>
                    </div>
                </form>
            </field>
        </record>

        <!-- User Profiles Kanban View -->
        <record id="view_internship_user_profile_kanban" model="ir.ui.view">
            <field name="name">internship.user.profile.kanban</field>
            <field name="model">internship.user.profile</field>
            <field name="arch" type="xml">
                <kanban default_group_by="profile_type" class="o_kanban_small_column">
                    <field name="user_id"/>
                    <field name="profile_type"/>
                    <field name="company_id"/>
                    <field name="department"/>
                    <field name="position"/>
                    <field name="education_level"/>
                    <field name="experience_years"/>
                    <field name="avatar"/>
                    <field name="is_active"/>
                    <field name="last_login"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="oe_kanban_card oe_kanban_global_click #{record.is_active.raw_value ? '' : 'o_kanban_color_muted'}">
                                <div class="o_kanban_image">
                                    <img t-att-src="kanban_image('internship.user.profile', 'avatar', record.id.raw_value)"
                                         alt="Profile" class="o_kanban_image_inner_pic"/>
                                </div>
                                <div class="oe_kanban_details">
                                    <strong class="o_kanban_record_title">
                                        <field name="user_id"/>
                                    </strong>
                                    <div class="o_kanban_tags_section">
                                        <div t-if="record.position.raw_value">
                                            <i class="fa fa-briefcase" title="Position"/> <field name="position"/>
                                        </div>
                                        <div t-if="record.department.raw_value">
                                            <i class="fa fa-building" title="Department"/> <field name="department"/>
                                        </div>
                                        <div t-if="record.company_id.raw_value">
                                            <i class="fa fa-institution" title="Company"/> <field name="company_id"/>
                                        </div>
                                        <div t-if="record.education_level.raw_value">
                                            <i class="fa fa-graduation-cap" title="Education"/> <field name="education_level"/>
                                        </div>
                                        <div t-if="record.experience_years.raw_value">
                                            <i class="fa fa-clock-o" title="Experience"/> <field name="experience_years"/> years exp.
                                        </div>
                                    </div>
                                    <div class="o_kanban_record_bottom">
                                        <div class="oe_kanban_bottom_left">
                                            <small class="text-muted">
                                                Last login: <field name="last_login"/>
                                            </small>
                                        </div>
                                        <div class="oe_kanban_bottom_right">
                                            <span t-if="!record.is_active.raw_value"
                                                  class="badge badge-secondary">Inactive</span>
                                            <span t-if="record.is_active.raw_value"
                                                  class="badge badge-success">Active</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <!-- User Profiles Action -->
        <record id="action_internship_user_profile_list" model="ir.actions.act_window">
            <field name="name">User Profiles</field>
            <field name="res_model">internship.user.profile</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Create your first user profile
                </p>
                <p>
                    Manage detailed user profiles for enhanced internship management and personalization.
                </p>
            </field>
        </record>

        <!-- ================================= -->
        <!-- USER PROFILE STATISTICS VIEWS -->
        <!-- ================================= -->

        <!-- User Profile Statistics Dashboard -->
        <record id="view_user_profile_stats_kanban" model="ir.ui.view">
            <field name="name">user.profile.stats.kanban</field>
            <field name="model">internship.user.profile</field>
            <field name="arch" type="xml">
                <kanban class="o_kanban_dashboard" default_group_by="profile_type">
                    <field name="user_id"/>
                    <field name="profile_type"/>
                    <field name="login_count"/>
                    <field name="last_login"/>
                    <field name="is_active"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div class="oe_kanban_card">
                                <div class="oe_kanban_content">
                                    <div class="o_kanban_primary_left">
                                        <div class="o_primary">
                                            <strong><field name="user_id"/></strong>
                                        </div>
                                        <div class="o_secondary">
                                            Profile Type: <field name="profile_type"/>
                                        </div>
                                    </div>
                                    <div class="o_kanban_primary_right">
                                        <div class="row">
                                            <div class="col-6">
                                                <div class="o_kanban_gauge">
                                                    <field name="login_count" widget="gauge"
                                                           options="{'max_value': 100, 'style': 'width:120px; height:90px;'}"/>
                                                    <div class="o_gauge_value">Logins</div>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <span t-if="record.is_active.raw_value"
                                                      class="badge badge-success">Active</span>
                                                <span t-if="!record.is_active.raw_value"
                                                      class="badge badge-secondary">Inactive</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <!-- User Profile Analytics Action -->
        <record id="action_user_profile_analytics" model="ir.actions.act_window">
            <field name="name">User Profile Analytics</field>
            <field name="res_model">internship.user.profile</field>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="view_user_profile_stats_kanban"/>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No user profiles found
                </p>
                <p>
                    User engagement and activity statistics will appear here.
                </p>
            </field>
        </record>

    </data>
</odoo>